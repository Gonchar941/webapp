<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Выбор адреса</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
    }
    .container {
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: white;
    }
    li {
      padding: 10px;
      cursor: pointer;
    }
    li:hover {
      background-color: #f0f0f0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Выберите адрес</h1>
    
    <!-- Поле для выбора района -->
    <label for="district-select">Выберите район:</label>
    <select id="district-select">
      <option value="">-- Выберите район --</option>
      <option value="Ворошиловский район">Ворошиловский район</option>
      <option value="Калининский район">Калининский район</option>
      <option value="Кировский район">Кировский район</option>
    </select>

    <!-- Поле для ввода улицы -->
    <label for="street-input">Введите улицу:</label>
    <input type="text" id="street-input" placeholder="Начните вводить улицу..." disabled />
    <ul id="street-suggestions"></ul>

    <!-- Поле для выбора дома -->
    <label for="house-select">Выберите дом:</label>
    <select id="house-select" disabled>
      <option value="">-- Сначала выберите улицу --</option>
    </select>

    <!-- Кнопка подтверждения -->
    <button id="confirm-button" disabled>Подтвердить адрес</button>
  </div>

  <script>
    const streetsByDistrict = {
      "Ворошиловский район": {
        "Пушкина": ["1", "2", "3", "4"],
        "Ленина": ["5", "6", "7"],
        "Университетская": ["8", "9", "10"],
        "Шевченко": ["11", "12", "13"],
      },
      "Калининский район": {
        "Гагарина": ["1", "2", "3", "4", "5"],
        "Титова": ["10", "11", "12"],
        "Кирова": ["20", "21", "22"],
        "Пролетарская": ["30", "31", "32"],
      },
      "Кировский район": {
        "Мира": ["1", "2", "3"],
        "Парковая": ["4", "5", "6"],
        "Донецкая": ["7", "8", "9"],
        "Южная": ["10", "11", "12"],
      },
    };

    const districtSelect = document.getElementById("district-select");
    const streetInput = document.getElementById("street-input");
    const streetSuggestions = document.getElementById("street-suggestions");
    const houseSelect = document.getElementById("house-select");
    const confirmButton = document.getElementById("confirm-button");

    let selectedDistrict = "";
    let streets = {};
    let houses = [];

    // Обработка выбора района
    districtSelect.addEventListener("change", () => {
      selectedDistrict = districtSelect.value;
      streets = streetsByDistrict[selectedDistrict] || {};
      streetInput.disabled = !selectedDistrict;
      streetInput.value = "";
      streetSuggestions.innerHTML = "";
      houseSelect.innerHTML = "<option value=''>-- Сначала выберите улицу --</option>";
      houseSelect.disabled = true;
      confirmButton.disabled = true;
    });

    // Обработка ввода улицы
    streetInput.addEventListener("input", () => {
      const query = streetInput.value.toLowerCase();
      const matches = Object.keys(streets).filter(street => street.toLowerCase().startsWith(query));

      streetSuggestions.innerHTML = matches
        .map(match => `<li>${match}</li>`)
        .join("");

      houseSelect.disabled = true;
      confirmButton.disabled = true;
    });

    // Обработка выбора улицы
    streetSuggestions.addEventListener("click", (e) => {
      if (e.target.tagName === "LI") {
        streetInput.value = e.target.textContent;
        streetSuggestions.innerHTML = "";

        houses = streets[streetInput.value] || [];
        houseSelect.innerHTML = houses
          .map(house => `<option value="${house}">${house}</option>`)
          .join("");
        houseSelect.disabled = false;
      }
    });

    // Обработка выбора дома
    houseSelect.addEventListener("change", () => {
      confirmButton.disabled = !houseSelect.value;
    });

    // Обработка нажатия на кнопку подтверждения
    confirmButton.addEventListener("click", () => {
      alert(`Ваш адрес: ${selectedDistrict}, ${streetInput.value}, дом ${houseSelect.value}`);
    });
  </script>
</body>
</html>
